{% extends "user/userbase.html" %}
{% block content %}

<div class="container mt-5 text-white" style="padding-top: 50px;">
  <h2>Edit Name & Email</h2>

  <!-- flash Messages for errors -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <script>
        window.onload = function() {
          {% for category, message in messages %}
            {% if category == "danger" %}  <!-- Only show pop-ups for errors -->
              alert("{{ message }}");
            {% endif %}
          {% endfor %}
        };
      </script>
    {% endif %}
  {% endwith %}

  <form action="{{ url_for('update_user') }}" method="POST">
    <div class="form-group">
      <label for="new-name">New Name:</label>
      <input type="text" id="new-name" name="name" class="form-control" required>
    </div>
    
    <div class="form-group">
      <label for="new-email">New Email:</label>
      <input type="email" id="new-email" name="email" class="form-control" required>
    </div>

    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="{{ url_for('settings') }}" class="btn btn-secondary">Cancel</a>
  </form>
</div>

{% endblock %}
